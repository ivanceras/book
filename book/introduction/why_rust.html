<!DOCTYPE HTML>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <title>The Redox Operating-System</title>
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="This books carefully describes the design, implementation, direction, and structure of Redox, the operating-system.">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <base href="../">

        <link rel="stylesheet" href="book.css">
        <link href='http://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800' rel='stylesheet' type='text/css'>

        <link rel="shortcut icon" href="favicon.png">

        <!-- Font Awesome -->
        <link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">

        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">

        <!-- MathJax -->
        <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

        <!-- Fetch JQuery from CDN but have a local fallback -->
        <script src="http://code.jquery.com/jquery-2.1.4.min.js"></script>
        <script>
            if (typeof jQuery == 'undefined') {
                document.write(unescape("%3Cscript src='jquery.js'%3E%3C/script%3E"));
            }
        </script>
    </head>
    <body>
        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme = localStorage.getItem('theme');
            if (theme == null) { theme = 'light'; }
            $('body').removeClass().addClass(theme);
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var sidebar = localStorage.getItem('sidebar');
            if (sidebar === "hidden") { $("html").addClass("sidebar-hidden") }
            else if (sidebar === "visible") { $("html").addClass("sidebar-visible") }
        </script>

        <div id="sidebar" class="sidebar">
            <ul class="chapter"><li><a href="./overview/welcome.html"><strong>1.</strong> Overview</a></li><li><ul class="section"><li><a href="./overview/what_redox_is.html"><strong>1.1.</strong> What Redox is</a></li><li><a href="./overview/the_structure.html"><strong>1.2.</strong> The structure</a></li><li><a href="./overview/side_projects.html"><strong>1.3.</strong> Side projects</a></li><li><a href="./overview/developers.html"><strong>1.4.</strong> Developers</a></li></ul></li><li><strong>2.</strong> Introduction</li><li><ul class="section"><li><a href="./introduction/what_is_redox.html"><strong>2.1.</strong> What is Redox?</a></li><li><a href="./introduction/why_redox.html"><strong>2.2.</strong> Why Redox?</a></li><li><a href="./introduction/why_rust.html" class="active"><strong>2.3.</strong> Why Rust?</a></li><li><ul class="section"><li><strong>2.3.1.</strong> Heartbleed: A case study</li><li><a href="./introduction/unsafes.html"><strong>2.3.2.</strong> Unsafes</a></li></ul></li><li><a href="./introduction/why_mit.html"><strong>2.4.</strong> Why MIT?</a></li><li><a href="./introduction/how_redox_compares_to_other_operating_systems.html"><strong>2.5.</strong> How Redox compares to other operating systems</a></li><li><a href="./introduction/will_redox_replace_linux.html"><strong>2.6.</strong> Will Redox replace Linux?</a></li></ul></li><li><strong>3.</strong> Getting started</li><li><ul class="section"><li><a href="./getting_started/preparing_the_build.html"><strong>3.1.</strong> Preparing Redox</a></li><li><a href="./getting_started/compiling_redox.html"><strong>3.2.</strong> Compiling Redox</a></li><li><a href="./getting_started/exploring_redox.html"><strong>3.3.</strong> Exploring Redox</a></li><li><a href="./getting_started/asking_questions_giving_feedback.html"><strong>3.4.</strong> Questions and feedback</a></li></ul></li><li><a href="./design/design.html"><strong>4.</strong> The design</a></li><li><ul class="section"><li><a href="./design/urls_schemes_resources.html"><strong>4.1.</strong> URLs, schemes and resources</a></li><li><ul class="section"><li><a href="./design/url/urls.html"><strong>4.1.1.</strong> URLs</a></li><li><ul class="section"><li><strong>4.1.1.1.</strong> Aren't they weakly typed?</li><li><strong>4.1.1.2.</strong> Aren't they confusing?</li><li><a href="./design/url/how_it_works.html"><strong>4.1.1.3.</strong> How it works under the hood</a></li></ul></li><li><a href="./design/scheme/schemes.html"><strong>4.1.2.</strong> Schemes</a></li><li><ul class="section"><li><a href="./design/scheme/writing_a_scheme.html"><strong>4.1.2.1.</strong> Writing your own scheme</a></li><li><strong>4.1.2.2.</strong> Using schemes efficiently</li></ul></li><li><a href="./design/resource/resources.html"><strong>4.1.3.</strong> Resources</a></li><li><ul class="section"><li><a href="./design/resource/socket_like.html"><strong>4.1.3.1.</strong> Socket-like</a></li><li><a href="./design/resource/file_like..html"><strong>4.1.3.2.</strong> File-like</a></li></ul></li><li><a href="./design/url_scheme_resource/stiching_it_all_together.html"><strong>4.1.4.</strong> Stitching it all together</a></li><li><ul class="section"><li><a href="./design/url_scheme_resource/everything_is_a_url.html"><strong>4.1.4.1.</strong> &quot;Everything is a URL&quot;</a></li><li><strong>4.1.4.2.</strong> An example</li></ul></li></ul></li><li><strong>4.2.</strong> The kernel</li><li><ul class="section"><li><strong>4.2.1.</strong> Microkernels</li><li><ul class="section"><li><strong>4.2.1.1.</strong> Advantages of microkernels</li><li><strong>4.2.1.2.</strong> Disadvantages of microkernels</li><li><strong>4.2.1.3.</strong> Performance of microkernels</li></ul></li><li><strong>4.2.2.</strong> Syscalls</li><li><ul class="section"><li><strong>4.2.2.1.</strong> Linux compatibility</li></ul></li><li><strong>4.2.3.</strong> Scheduling</li><li><strong>4.2.4.</strong> Memory management</li><li><strong>4.2.5.</strong> Drivers</li></ul></li><li><strong>4.3.</strong> Trade-offs</li><li><ul class="section"><li><strong>4.3.1.</strong> Safety and performance</li><li><strong>4.3.2.</strong> Simplicity and expressiveness</li></ul></li><li><strong>4.4.</strong> Coreutils</li><li><ul class="section"><li><strong>4.4.1.</strong> Fail, fail, and fail</li><li><strong>4.4.2.</strong> Simplicty and minimalism</li><li><strong>4.4.3.</strong> Supplement utilities</li><li><ul class="section"><li><strong>4.4.3.1.</strong> Binutils</li><li><strong>4.4.3.2.</strong> Extrautils</li></ul></li></ul></li><li><strong>4.5.</strong> ZFS</li><li><ul class="section"><li><strong>4.5.1.</strong> What ZFS is</li><li><strong>4.5.2.</strong> The Uberblock</li><li><strong>4.5.3.</strong> RAID</li><li><strong>4.5.4.</strong> The VDev tree</li></ul></li><li><strong>4.6.</strong> Orbital</li><li><ul class="section"><li><strong>4.6.1.</strong> What Orbital is</li><li><strong>4.6.2.</strong> Orbclient</li><li><strong>4.6.3.</strong> Opening a window</li><li><strong>4.6.4.</strong> Extras</li><li><ul class="section"><li><strong>4.6.4.1.</strong> OrbTK</li><li><strong>4.6.4.2.</strong> Orbutils</li></ul></li></ul></li><li><strong>4.7.</strong> Ion</li><li><ul class="section"><li><strong>4.7.1.</strong> What Ion is</li><li><strong>4.7.2.</strong> The design of Ion</li><li><strong>4.7.3.</strong> The syntax</li><li><strong>4.7.4.</strong> How it differs from Bash</li></ul></li><li><strong>4.8.</strong> Oxide</li><li><ul class="section"><li><strong>4.8.1.</strong> Decentral</li><li><strong>4.8.2.</strong> Cryptography</li><li><strong>4.8.3.</strong> The indexes</li><li><strong>4.8.4.</strong> The repositories</li><li><strong>4.8.5.</strong> The trusted parties</li></ul></li><li><strong>4.9.</strong> Sodium</li><li><ul class="section"><li><strong>4.9.1.</strong> What it is</li><li><strong>4.9.2.</strong> Understanding the design</li><li><strong>4.9.3.</strong> Using Sodium efficiently</li></ul></li></ul></li><li><strong>5.</strong> Development in userspace</li><li><ul class="section"><li><strong>5.1.</strong> What userspace is</li><li><strong>5.2.</strong> Writing an application for Redox</li><li><ul class="section"><li><strong>5.2.1.</strong> Platform independence</li><li><ul class="section"><li><strong>5.2.1.1.</strong> What is available and what is not</li></ul></li><li><strong>5.2.2.</strong> Using schemes</li><li><strong>5.2.3.</strong> Using Orbital</li><li><strong>5.2.4.</strong> Compiling your program</li><li><strong>5.2.5.</strong> A full example</li></ul></li><li><strong>5.3.</strong> Porting a program</li><li><ul class="section"><li><strong>5.3.1.</strong> Remove dependencies</li><li><strong>5.3.2.</strong> Cross-compiling</li></ul></li></ul></li><li><strong>6.</strong> Contributing</li><li><ul class="section"><li><strong>6.1.</strong> Communication</li><li><ul class="section"><li><strong>6.1.1.</strong> Chat</li></ul></li><li><strong>6.2.</strong> Direct contributions</li><li><ul class="section"><li><strong>6.2.1.</strong> Low hanging fruit</li><li><strong>6.2.2.</strong> Github issues</li><li><ul class="section"><li><strong>6.2.2.1.</strong> How to do a bug report correctly</li></ul></li><li><strong>6.2.3.</strong> Pull requests</li><li><ul class="section"><li><strong>6.2.3.1.</strong> How to do a pull request properly</li></ul></li></ul></li><li><strong>6.3.</strong> Indirect contributions</li><li><ul class="section"><li><strong>6.3.1.</strong> Community</li><li><strong>6.3.2.</strong> Porting your programs to Redox</li></ul></li><li><strong>6.4.</strong> Best practices and guidelines</li><li><ul class="section"><li><strong>6.4.1.</strong> Documentation</li><li><ul class="section"><li><strong>6.4.1.1.</strong> Literal programming</li><li><strong>6.4.1.2.</strong> Writing docs correcty (TM)</li><li><strong>6.4.1.3.</strong> Marking code</li><li><ul class="section"><li><strong>6.4.1.3.1.</strong> XXX</li><li><strong>6.4.1.3.2.</strong> TODO</li><li><strong>6.4.1.3.3.</strong> FIXME</li></ul></li></ul></li><li><strong>6.4.2.</strong> Style</li><li><strong>6.4.3.</strong> Rusting properly</li><li><ul class="section"><li><strong>6.4.3.1.</strong> Writing fast Rust</li><li><strong>6.4.3.2.</strong> Avoiding heap allocations</li><li><strong>6.4.3.3.</strong> Exiting a program</li><li><strong>6.4.3.4.</strong> Avoiding panics in the kernel</li></ul></li><li><strong>6.4.4.</strong> Tests</li><li><ul class="section"><li><strong>6.4.4.1.</strong> Tests in the kernel</li></ul></li><li><strong>6.4.5.</strong> Logging and assertions</li><li><strong>6.4.6.</strong> Git</li><li><strong>6.4.7.</strong> Writing an issue</li><li><strong>6.4.8.</strong> Documenting your changes</li></ul></li></ul></li><li><strong>7.</strong> Understanding the codebase</li><li><ul class="section"><li><strong>7.1.</strong> Kernel</li><li><ul class="section"><li><strong>7.1.1.</strong> Environment</li></ul></li></ul></li><li><strong>8.</strong> Fun</li><li><ul class="section"><li><strong>8.1.</strong> Running Redox on real hardware</li><li><strong>8.2.</strong> Setting up a Redox desktop</li><li><strong>8.3.</strong> Customizing Redox</li></ul></li><li><strong>9.</strong> The future</li><li><ul class="section"><li><strong>9.1.</strong> What is done and what is not</li><li><strong>9.2.</strong> Goals</li><li><strong>9.3.</strong> Redox's target</li></ul>
        </div>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar" class="menu-bar">
                    <div class="left-buttons">
                        <i id="sidebar-toggle" class="fa fa-bars"></i>
                        <i id="theme-toggle" class="fa fa-paint-brush"></i>
                    </div>

                    <h1 class="menu-title">The Redox Operating-System</h1>

                    <div class="right-buttons">
                        <i id="print-button" class="fa fa-print" title="Print this book"></i>
                    </div>
                </div>

                <div id="content" class="content">
                    <h1>Why Rust?</h1>
<p>Why write an operating system in Rust? Why even write in Rust?</p>
<p>Rust has enormous advantages, because for operating systems <em>safety matters</em>. A lot, actually.</p>
<p>Since operating systems are such an integrated part of computing, they are a very security critical component.</p>
<p>There have been numerous bugs and vulnerabilities in Linux, BSD, Glibc, Bash, X, etc. throughout time, simply due to the lack of memory and type safety. Rust does this right, by enforcing safety statically.</p>
<p>Design does matter, but so does implementation. Rust avoids these unexpected memory unsafe conditions (which are, by far, the biggest source of security critical bugs, since they're, by nature, unexpected). Design is a very transparent source of issues. You know what is going on, you know what was intended and what was not.</p>
<p>The basic design of the kernel/userspace separation is fairly similar to genuine *nix systems, at this point. The idea is roughly the same: you seperate kernel and userspace, through strict enforcement by the kernel, which manages memory and other critical resources.</p>
<p>However, we have an advantage: enforced memory and type safety. This is Rust's strong side, the vast majority of &quot;unexpected bugs&quot; (for example, undefined behavior) are eliminated.</p>
<p>The design of Linux or BSD is secure. The implementation is not:</p>
<ul>
<li>
<p><a href="https://www.cvedetails.com/vulnerability-list.php?vendor_id=33&amp;product_id=47&amp;version_id=&amp;page=1&amp;hasexp=0&amp;opdos=0&amp;opec=0&amp;opov=0&amp;opcsrf=0&amp;opgpriv=0&amp;opsqli=0&amp;opxss=0&amp;opdirt=0&amp;opmemc=0&amp;ophttprs=0&amp;opbyp=0&amp;opfileinc=0&amp;opginf=0&amp;cvssscoremin=7&amp;cvssscoremax=7.99&amp;year=0&amp;month=0&amp;cweid=0&amp;order=3&amp;trc=269&amp;sha=27cc1be095dd1cc4189b3d337cc787289500c13e">Linux kernel vulnerabilities</a></p>
</li>
<li>
<p><a href="https://www.cvedetails.com/vulnerability-list.php?vendor_id=72&amp;product_id=767&amp;version_id=&amp;page=1&amp;hasexp=0&amp;opdos=0&amp;opec=0&amp;opov=0&amp;opcsrf=0&amp;opgpriv=0&amp;opsqli=0&amp;opxss=0&amp;opdirt=0&amp;opmemc=0&amp;ophttprs=0&amp;opbyp=0&amp;opfileinc=0&amp;opginf=0&amp;cvssscoremin=0&amp;cvssscoremax=0&amp;year=0&amp;month=0&amp;cweid=0&amp;order=3&amp;trc=62&amp;sha=5e0c40399ffafd65f77e6b537bcc0f50474eeed3">Glibc vulnerabilities</a></p>
</li>
<li>
<p><a href="http://www.cvedetails.com/vulnerability-list.php?vendor_id=72&amp;product_id=21050&amp;version_id=&amp;page=1&amp;hasexp=0&amp;opdos=0&amp;opec=0&amp;opov=0&amp;opcsrf=0&amp;opgpriv=0&amp;opsqli=0&amp;opxss=0&amp;opdirt=0&amp;opmemc=0&amp;ophttprs=0&amp;opbyp=0&amp;opfileinc=0&amp;opginf=0&amp;cvssscoremin=0&amp;cvssscoremax=0&amp;year=0&amp;month=0&amp;cweid=0&amp;order=3&amp;trc=10&amp;sha=b7da5775428a703fdead6c27fbca76cd40b7c596">Bash vulnerabilities</a></p>
</li>
<li>
<p><a href="https://www.cvedetails.com/vulnerability-list.php?vendor_id=8216&amp;product_id=&amp;version_id=&amp;page=1&amp;hasexp=0&amp;opdos=0&amp;opec=0&amp;opov=0&amp;opcsrf=0&amp;opgpriv=0&amp;opsqli=0&amp;opxss=0&amp;opdirt=0&amp;opmemc=0&amp;ophttprs=0&amp;opbyp=0&amp;opfileinc=0&amp;opginf=0&amp;cvssscoremin=0&amp;cvssscoremax=0&amp;year=0&amp;month=0&amp;cweid=0&amp;order=3&amp;trc=55&amp;sha=a68a1ced1b67444749733b7fa9e1438ff0c42810">X vulnerabilities</a></p>
</li>
</ul>
<p>Click on the above links. You'll probably notice that the vast majority is just basic bugs originating in unsafe conditions (which Rust effectively eliminates), not design.</p>
<p>We hope that using Rust will produce a more secure operating system in the end.</p>
<!-- TODO Rust doesn't make your code designed correct; that's impossible. However, it is possible to formally prove a design to be sound (like sel4 did), and this is something we're working on. -->

                </div>

                <!-- Mobile navigation buttons -->
                
                    <a href="./introduction/why_redox.html" class="mobile-nav-chapters previous">
                        <i class="fa fa-angle-left"></i>
                    </a>
                

                
                    <a href="./introduction/unsafes.html" class="mobile-nav-chapters next">
                        <i class="fa fa-angle-right"></i>
                    </a>
                

            </div>

            
                <a href="./introduction/why_redox.html" class="nav-chapters previous" title="You can navigate through the chapters using the arrow keys">
                    <i class="fa fa-angle-left"></i>
                </a>
            

            
                <a href="./introduction/unsafes.html" class="nav-chapters next" title="You can navigate through the chapters using the arrow keys">
                    <i class="fa fa-angle-right"></i>
                </a>
            

        </div>


        <!-- Local fallback for Font Awesome -->
        <script>
            if ($(".fa").css("font-family") !== "FontAwesome") {
                $('<link rel="stylesheet" type="text/css" href="_FontAwesome/css/font-awesome.css">').prependTo('head');
            }
        </script>

        <script src="highlight.js"></script>
        <script src="book.js"></script>
    </body>
</html>
